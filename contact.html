<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contact Us | Odryss</title>
    <link rel="icon" href="assets/images/logo.png" type="image/png">
    <link rel="stylesheet" href="assets/css/main.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <div id="nav-placeholder"></div>

    <main class="contact-page dot-matrix-bg" style="padding: 8rem 10% 6rem; min-height: 80vh;">
        <header class="page-header" style="text-align: center; margin-bottom: 5rem;">
            <h1 style="font-size: 4rem; color: var(--primary); font-weight: 800; letter-spacing: -1px; margin-bottom: 1rem;">Get in Touch</h1>
            <p style="font-size: 1.2rem; opacity: 0.8; max-width: 600px; margin: 0 auto;">Have questions about Odryss or interested in our autonomous fire suppression technology? We'd love to hear from you.</p>
        </header>

        <section class="contact-container" style="max-width: 1100px; margin: 0 auto; display: grid; grid-template-columns: 1fr 1.5fr; gap: 4rem; align-items: start;">
            
            <!-- Contact Info Panel -->
            <div class="contact-info" style="background: var(--nav-bg); padding: 3rem; border-radius: 16px; border: 1px solid var(--border-color); box-shadow: var(--card-shadow);">
                <h2 style="font-size: 2rem; color: var(--primary); margin-bottom: 2rem;">Contact Information</h2>
                <ul class="contact-details" style="list-style: none; padding: 0;">
                    <li style="margin-bottom: 1.5rem; display: flex; align-items: center; gap: 1rem;">
                        <i class="fas fa-envelope" style="color: var(--primary); font-size: 1.2rem; width: 24px; text-align: center;"></i>
                        <span style="font-size: 1.1rem;">* in progress *</span>
                    </li>
                    <li style="margin-bottom: 1.5rem; display: flex; align-items: center; gap: 1rem;">
                        <i class="fas fa-map-marker-alt" style="color: var(--primary); font-size: 1.2rem; width: 24px; text-align: center;"></i>
                        <span style="font-size: 1.1rem;">San Francisco, CA</span>
                    </li>
                </ul>
                <div style="margin-top: 3rem; border-top: 1px solid var(--border-color); padding-top: 2rem;">
                    <h3 style="font-size: 1.2rem; margin-bottom: 1rem; color: var(--dark-blue); font-weight: 700;">Connect with us</h3>
                    <div class="social-icons" style="display: flex; gap: 1rem;">
                        <a href="#" target="_blank" style="color: var(--primary); font-size: 1.5rem; transition: filter 0.3s ease;" onmouseover="this.style.filter='brightness(1.2)'" onmouseout="this.style.filter='none'"><i class="fab fa-linkedin"></i></a>
                        <a href="https://x.com/odryssinc?s=21" target="_blank" style="color: var(--primary); font-size: 1.5rem; transition: filter 0.3s ease;" onmouseover="this.style.filter='brightness(1.2)'" onmouseout="this.style.filter='none'"><i class="fab fa-twitter"></i></a>
                        <a href="https://www.instagram.com/odryssinc?igsh=MTYxY2hwZXV6b3B2bg%3D%3D&utm_source=qr_code" target="_blank" style="color: var(--primary); font-size: 1.5rem; transition: filter 0.3s ease;" onmouseover="this.style.filter='brightness(1.2)'" onmouseout="this.style.filter='none'"><i class="fab fa-instagram"></i></a>
                    </div>
                </div>
            </div>

            <!-- Contact Form -->
            <form class="contact-form" id="main-contact-form" action="https://formspree.io/f/mpqjnkel" method="POST" style="display: flex; flex-direction: column; gap: 1.5rem;">
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1.5rem;">
                    <div class="form-group">
                        <label for="name" style="display: block; margin-bottom: 0.5rem; font-weight: 600; font-size: 0.95rem;">Full Name</label>
                        <input type="text" id="name" name="name" placeholder="John Doe" required style="width: 100%; padding: 1rem; border: 1px solid var(--border-color); border-radius: 8px; background: var(--nav-bg); color: var(--primary); font-size: 1rem; outline: none;">
                    </div>
                    <div class="form-group">
                        <label for="email" style="display: block; margin-bottom: 0.5rem; font-weight: 600; font-size: 0.95rem;">Email Address</label>
                        <input type="email" id="email" name="email" placeholder="john@example.com" required style="width: 100%; padding: 1rem; border: 1px solid var(--border-color); border-radius: 8px; background: var(--nav-bg); color: var(--primary); font-size: 1rem; outline: none;">
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="subject" style="display: block; margin-bottom: 0.5rem; font-weight: 600; font-size: 0.95rem;">Subject</label>
                    <div style="position: relative;">
                        <select id="subject" name="subject" style="width: 100%; padding: 1rem; border: 1px solid var(--border-color); border-radius: 8px; background: var(--nav-bg); color: var(--primary); font-size: 1rem; appearance: none; outline: none; cursor: pointer;">
                            <option value="general">General Inquiry</option>
                            <option value="demo">Request a Demo</option>
                            <option value="investment">Investment Opportunities</option>
                            <option value="support">Technical Support</option>
                        </select>
                        <i class="fas fa-chevron-down" style="position: absolute; right: 1rem; top: 50%; transform: translateY(-50%); color: var(--primary); pointer-events: none;"></i>
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="message" style="display: block; margin-bottom: 0.5rem; font-weight: 600; font-size: 0.95rem;">Message</label>
                    <textarea id="message" name="message" placeholder="How can we help you?" rows="6" required style="width: 100%; padding: 1rem; border: 1px solid var(--border-color); border-radius: 8px; background: var(--nav-bg); color: var(--primary); font-size: 1rem; resize: vertical; outline: none;"></textarea>
                </div>
                
                <button type="submit" class="btn-primary" style="padding: 1rem 2.5rem; font-size: 1.1rem; align-self: flex-start; margin-top: 1rem; cursor: pointer;">Send Message</button>
            </form>
        </section>

        <!-- Success Modal (Hidden by default) -->
        <div id="success-modal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(15, 23, 42, 0.7); z-index: 2000; align-items: center; justify-content: center; backdrop-filter: blur(4px);">
            <div style="background: var(--bg-color); padding: 3rem; border-radius: 16px; text-align: center; box-shadow: var(--card-shadow); max-width: 400px; width: 90%; border: 1px solid var(--border-color);">
                <i class="fas fa-check-circle" style="font-size: 4rem; color: #2ecc71; margin-bottom: 1.5rem;"></i>
                <h3 style="font-size: 1.8rem; color: var(--primary); margin-bottom: 1rem;">Message Sent!</h3>
                <p style="margin-bottom: 2rem; opacity: 0.8; font-size: 1rem; color: var(--primary);">Thank you for reaching out. We will get back to you shortly.</p>
                <button onclick="document.getElementById('success-modal').style.display='none'" class="btn-primary" style="width: 100%;">Close</button>
            </div>
        </div>

    </main>

    <div id="footer-placeholder"></div>

    <script src="assets/js/main.js"></script>

    <!-- Formspree AJAX Submission Script -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const form = document.getElementById('main-contact-form');
            const modal = document.getElementById('success-modal');
            const submitBtn = form.querySelector('button[type="submit"]');
            const originalBtnText = submitBtn.innerText;

            if (form) {
                form.addEventListener('submit', async function(e) {
                    e.preventDefault(); // Stop the default browser redirect
                    
                    // Change button state to indicate loading
                    submitBtn.innerText = 'Sending...';
                    submitBtn.style.opacity = '0.7';
                    submitBtn.style.pointerEvents = 'none';

                    const data = new FormData(form);

                    try {
                        const response = await fetch(form.action, {
                            method: form.method,
                            body: data,
                            headers: {
                                'Accept': 'application/json'
                            }
                        });

                        if (response.ok) {
                            form.reset(); // Clear the form fields
                            modal.style.display = 'flex'; // Show the custom popup
                        } else {
                            // If Formspree returns an error
                            const result = await response.json();
                            if (Object.hasOwn(result, 'errors')) {
                                alert(result.errors.map(error => error.message).join(", "));
                            } else {
                                alert("Oops! There was a problem sending your message. Please try again.");
                            }
                        }
                    } catch (error) {
                        alert("Oops! A network error occurred. Please check your connection and try again.");
                    } finally {
                        // Revert button text and state back to normal
                        submitBtn.innerText = originalBtnText;
                        submitBtn.style.opacity = '1';
                        submitBtn.style.pointerEvents = 'auto';
                    }
                });
            }
        });
    </script>
</body>
</html>